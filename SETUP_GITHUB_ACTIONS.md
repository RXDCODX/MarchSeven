# üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Actions –¥–ª—è MarchSeven

–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º GitHub Actions.

## üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- ‚úÖ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
- ‚úÖ –ü—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- ‚úÖ –í–∞–ª–∏–¥–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã HoyoLab API

## üîß –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ Environment

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
   - –ù–∞–∂–º–∏—Ç–µ **Settings** (–≤–∫–ª–∞–¥–∫–∞)

2. **–°–æ–∑–¥–∞–π—Ç–µ Environment**
   - –í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–π–¥–∏—Ç–µ **Environments**
   - –ù–∞–∂–º–∏—Ç–µ **New environment**
   - –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: `tests`
   - –ù–∞–∂–º–∏—Ç–µ **Configure environment**

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –∑–∞—â–∏—Ç—ã**
   - ‚úÖ **Required reviewers**: 1
   - ‚úÖ **Dismiss stale reviews**: –≤–∫–ª—é—á–∏—Ç—å
   - ‚úÖ **Restrict pushes**: –≤–∫–ª—é—á–∏—Ç—å
   - –ù–∞–∂–º–∏—Ç–µ **Save protection rules**

## üîê –®–∞–≥ 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Secrets

–í environment `tests` –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ secrets:

### LTMID_V2

- **Name**: `LTMID_V2`
- **Value**: –í–∞—à HoyoLab ltmid_v2 —Ç–æ–∫–µ–Ω
- **Example**: `1vw187ejtb_hy`

### LTOKEN_V2  

- **Name**: `LTOKEN_V2`
- **Value**: –í–∞—à HoyoLab ltoken_v2 —Ç–æ–∫–µ–Ω
- **Example**: `v2_CAISDGNpZWJod3pwcnBxOBok...`

### LTUID_V2

- **Name**: `LTUID_V2`
- **Value**: –í–∞—à HoyoLab ltuid_v2 —Ç–æ–∫–µ–Ω
- **Example**: `309749441`

## üìÅ –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –µ—Å—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã:

```
.github/
‚îú‚îÄ‚îÄ workflows/
‚îÇ   ‚îú‚îÄ‚îÄ tests.yml              # –û—Å–Ω–æ–≤–Ω–æ–π workflow
‚îÇ   ‚îú‚îÄ‚îÄ test-matrix.yml        # –ú–∞—Ç—Ä–∏—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ pr-status.yml          # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ PR
‚îÇ   ‚îî‚îÄ‚îÄ README.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ SETUP_GITHUB_ACTIONS.md    # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üß™ –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫

Workflows –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø—Ä–∏:

- ‚úÖ Push –≤ –≤–µ—Ç–∫–∏ `main` –∏–ª–∏ `develop`
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–∏ Pull Request –≤ —ç—Ç–∏ –≤–µ—Ç–∫–∏

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Actions** ‚Üí **Tests**
2. –ù–∞–∂–º–∏—Ç–µ **Run workflow**
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ç–∫—É –∏ –Ω–∞–∂–º–∏—Ç–µ **Run workflow**

## üìä –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –í Actions

- –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É **Actions**
- –í—ã–±–µ—Ä–∏—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–π workflow
- –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –í Pull Request

- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ PR –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å —Ç–µ—Å—Ç–æ–≤ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã

- **test-results**: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
- **coverage-reports**: –û—Ç—á–µ—Ç—ã –æ –ø–æ–∫—Ä—ã—Ç–∏–∏ –∫–æ–¥–∞

## üîç –®–∞–≥ 6: Troubleshooting

### ‚ùå Environment –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞**: Environment `tests` –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –≤ PR

**–†–µ—à–µ–Ω–∏–µ**:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ PR –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω –≤ –≤–µ—Ç–∫—É `main` –∏–ª–∏ `develop`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ environment —Å–æ–∑–¥–∞–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –∑–∞—â–∏—Ç—ã environment

### ‚ùå Secrets –Ω–µ –¥–æ—Å—Ç—É–ø–Ω—ã

**–ü—Ä–æ–±–ª–µ–º–∞**: –¢–µ—Å—Ç—ã –Ω–µ –º–æ–≥—É—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ secrets

**–†–µ—à–µ–Ω–∏–µ**:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ secrets –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ environment `tests`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏—è secrets —Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞—é—Ç
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ environment –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –≤ workflow

### ‚ùå –¢–µ—Å—Ç—ã –ø–∞–¥–∞—é—Ç –≤ CI

**–ü—Ä–æ–±–ª–µ–º–∞**: –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –ª–æ–∫–∞–ª—å–Ω–æ, –Ω–æ –ø–∞–¥–∞—é—Ç –≤ GitHub Actions

**–†–µ—à–µ–Ω–∏–µ**:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Actions –¥–ª—è –¥–µ—Ç–∞–ª–µ–π –æ—à–∏–±–æ–∫
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω—ã –Ω–µ –∏—Å—Ç–µ–∫–ª–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ API HoyoLab –¥–æ—Å—Ç—É–ø–µ–Ω

## üéØ –®–∞–≥ 7: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Branch Protection

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –≤–µ—Ç–∫–∏ `main`:

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Settings ‚Üí Branches**
2. **–î–æ–±–∞–≤—å—Ç–µ rule –¥–ª—è `main`**
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ**:
   - ‚úÖ **Require a pull request before merging**
   - ‚úÖ **Require status checks to pass before merging**
   - ‚úÖ **Require branches to be up to date before merging**
   - ‚úÖ **Require conversation resolution before merging**

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚úÖ –ß—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ

- Environment secrets —à–∏—Ñ—Ä—É—é—Ç—Å—è
- Secrets –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –≤ –ª–æ–≥–∞—Ö
- –¢–æ–∫–µ–Ω—ã –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –∫–æ–¥

### ‚ùå –ß—Ç–æ –ù–ï –±–µ–∑–æ–ø–∞—Å–Ω–æ

- –ö–æ–º–º–∏—Ç–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –≤ –∫–æ–¥
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω—ã –≤ –ø—É–±–ª–∏—á–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö
- –î–µ–ª–∏—Ç—å—Å—è —Ç–æ–∫–µ–Ω–∞–º–∏ —Å –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ –ª–∏—Ü–∞–º–∏

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

- [ ] –¢–æ–∫–µ–Ω—ã HoyoLab –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ
- [ ] –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ –Ω–µ —Å–Ω–∏–∂–∞–µ—Ç—Å—è
- [ ] Workflows –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

- GitHub –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–¥–æ–º–ª—è–µ—Ç –æ —Å—Ç–∞—Ç—É—Å–µ workflow
- Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö —Ç–µ—Å—Ç–æ–≤
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ PR —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

## üéâ –ì–æ—Ç–æ–≤–æ

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ —É –≤–∞—Å –±—É–¥–µ—Ç:

‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –ø—Ä–∏ –∫–∞–∂–¥–æ–º PR  
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ** —Ç–æ–∫–µ–Ω–æ–≤ API  
‚úÖ **–ú–∞—Ç—Ä–∏—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö  
‚úÖ **–û—Ç—á–µ—Ç—ã –æ –ø–æ–∫—Ä—ã—Ç–∏–∏** –∫–æ–¥–∞  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** –≤ PR  

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** –≤ Actions
2. **–°—Ä–∞–≤–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞** –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é
4. **–£–±–µ–¥–∏—Ç–µ—Å—å**, —á—Ç–æ environment secrets –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

**–£–¥–∞—á–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è! üöÄ**
