# MarchSeven Tests

Этот проект содержит тесты для библиотеки MarchSeven.

## Запуск тестов

### Все тесты

```bash
dotnet test
```

### Только простые тесты (без API вызовов)

```bash
dotnet test --filter "SimpleTests"
```

### Конкретный класс тестов

```bash
dotnet test --filter "UnitTest"
dotnet test --filter "StarRailTest"
dotnet test --filter "IntegrationTests"
```

## Структура тестов

### SimpleTests.cs

Простые unit-тесты, которые не требуют реальных API вызовов:

- Создание объектов Cookie
- Создание пользователей (Genshin, Star Rail, Zenless)
- Определение серверов по UID
- Преобразование Cookie в строку

### UnitTest.cs

Основные тесты для Genshin Impact API (требуют валидные токены):

- Получение статистики пользователя
- Получение игровых ролей
- Получение информации об аккаунте
- Получение статистики Genshin Impact
- Получение ежедневных заметок
- Получение доступных языков
- Получение ежедневных наград

### StarRailTest.cs

Тесты для Honkai Star Rail API (требуют валидные токены):

- Получение данных о наградах
- Создание пользователей Star Rail
- Получение ежедневных заметок

### IntegrationTests.cs

Интеграционные тесты для всех игр (требуют валидные токены):

- Тестирование Star Rail с реальными данными
- Тестирование Genshin Impact с реальными данными
- Тестирование наград Star Rail

### UserStaminaTest.cs

Тесты для системы энергии Star Rail (требуют валидные токены):

- Получение информации о энергии
- Отображение экспедиций

### StarRailStaminaEventsTest.cs

Тесты для событий энергии Star Rail:

- Тестирование менеджера энергии
- Тестирование точности расчетов
- Тестирование граничных случаев
- Тестирование подписки на события

## Настройка тестов

Для запуска тестов, требующих реальных API вызовов, необходимо:

1. Создать валидные токены в `TestData.cs`
2. Убедиться, что у вас есть доступ к API HoyoLab
3. Использовать реальные UID игроков

## Примечания

- Простые тесты (`SimpleTests`) всегда проходят и не требуют внешних зависимостей
- Тесты с API вызовами могут падать при невалидных токенах или проблемах с сетью
- Некоторые тесты используют mock-данные для демонстрации функциональности
- Все тесты написаны на русском языке для удобства разработчиков
